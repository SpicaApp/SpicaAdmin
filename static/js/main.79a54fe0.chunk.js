(this["webpackJsonpspica-admin"]=this["webpackJsonpspica-admin"]||[]).push([[0],{107:function(e,t,a){e.exports=a(137)},113:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),i=(a(62),a(53)),c=a(86);function o(){var e=Object(c.a)(["\n  body {\n    background: ",";\n    color: ",";\n    font-family: Tahoma, Helvetica, Arial, Roboto, sans-serif;\n    transition: all 0.50s linear;\n  }\n  p {\n    color: ","!important;\n  }\n  input {\n    color: ","!important;\n  }\n  .MuiInput-underline:before {\n    border-bottom: 1px solid ","!important;\n  }\n  .MuiBox-root.MuiBox-root-1 {\n    background: ",";\n  }\n  .MuiFormLabel-root.MuiInputLabel-root.MuiInputLabel-formControl.MuiInputLabel-animated.MuiInputLabel-marginDense {\n    color: ","!important;\n  }\n  .MuiPaper-root.MuiDialog-paper.MuiDialog-paperScrollPaper.MuiDialog-paperWidthSm.MuiPaper-elevation24.MuiPaper-rounded {\n    background: ",";\n    color: ",";\n  }\n  "]);return o=function(){return e},e}var u=Object(i.b)(o(),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.underline}),(function(e){return e.theme.background}),(function(e){return e.theme.secondaryText}),(function(e){return e.theme.background}),(function(e){return e.theme.text})),s={body:"#FFF",text:"#363537",secondaryText:"#777",toggleBorder:"#FFF",underline:"#444",background:"#FEFEFE"},d={body:"#010101",text:"#FAFAFA",secondaryText:"#aaa",toggleBorder:"#6B8096",underline:"#444",background:"#222"},m=a(47),b=a(13),p=a(30),h=a(22),g=a(40),f=a(39),E=(a(113),a(65)),O=a.n(E);a(116);O.a.initializeApp({apiKey:"AIzaSyAnAIxGrfFRpdt5b5Yy3rTjk_J20Q0siRw",authDomain:"spica-8dd46.firebaseapp.com",databaseURL:"https://spica-8dd46.firebaseio.com",projectId:"spica-8dd46",storageBucket:"spica-8dd46.appspot.com",messagingSenderId:"996753332711",appId:"1:996753332711:web:47eb27d5457920d3440542"});var j=O.a.auth(),v=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={navigateTo:""},n}return Object(h.a)(a,[{key:"evaluateAuth",value:function(){var e=this;j.onAuthStateChanged((function(t){null==t?e.setState({navigateTo:"login"}):e.setState({navigateTo:"dashboard"})}))}},{key:"render",value:function(){return""!==this.state.navigateTo?"dashboard"===this.state.navigateTo?r.a.createElement(b.a,{to:"/dashboard"}):r.a.createElement(b.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("p",null,"Redirecting..."),this.evaluateAuth())}}]),a}(r.a.Component),y=Object(b.f)(v),S=a(12),C=a(6),k=a(166),x=a(182),w=a(180),D=function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(""),c=Object(C.a)(i,2),o=c[0],u=c[1],s=Object(n.useState)(""),d=Object(C.a)(s,2),m=d[0],p=d[1],h=Object(n.useState)(""),g=Object(C.a)(h,2),f=g[0],E=g[1],O=Object(n.useState)(!1),v=Object(C.a)(O,2),y=v[0],x=v[1],w=Object(n.useState)(!1),D=Object(C.a)(w,2),I=D[0],M=D[1];j.onAuthStateChanged((function(e){null!=e&&M(!0)}));function F(){if(0===a.trim().length||0===o.trim().length)return e="Some values are missing",p("Error"),E(e),void x(!0);var e;!function(e,t){j.signInWithEmailAndPassword(e,t).then((function(e){M(!0)})).catch((function(e){p("Sign in error"),E("Error signing in: "+e.message),x(!0),console.error("Error signing in with password and email",e)}))}(a,o)}return I?r.a.createElement(b.a,{to:"/dashboard"}):r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("h1",{style:{marginBottom:"32px"}},"Cool admin stuff\u2122"),r.a.createElement(T,{title:"Email Address:",style:{marginBottom:"32px"},changedValue:function(e){var t=Object(S.a)({},a);t=e.target.value,l(t)},type:"email"}),r.a.createElement(T,{title:"Password:",changedValue:function(e){var t=Object(S.a)({},o);t=e.target.value,u(t)},type:"password"}),r.a.createElement(k.a,{style:{marginTop:"32px",marginBottom:"32px"},variant:"outlined",color:"primary",disableElevation:!0,onClick:function(){return F()}},"Login"),y?r.a.createElement(A,{title:m,desc:f,style:{marginTop:"32px"}}):null)},A=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(x.a,{boxShadow:3,borderRadius:"12px"},r.a.createElement("div",{style:{backgroundColor:"#e74c3c",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",width:"100%",height:"32px"}}),r.a.createElement("div",{style:{padding:"16px"}},r.a.createElement("h2",null,this.props.title),r.a.createElement("p",null,this.props.desc)))}}]),a}(r.a.Component),T=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,this.props.title),r.a.createElement(w.a,{type:this.props.type,onChange:function(t){return e.props.changedValue(t)},required:!0}))}}]),a}(r.a.Component),I=a(178),M=a(179),F=a(69),K=(a(52),a(42)),W=a.n(K),q=a(184);function B(e){return r.a.createElement(q.a,Object.assign({elevation:6,variant:"filled"},e))}var P=a(186),R=a(187),L=a(172),z=a(173),N=a(174),J=a(175),U=a(176);function G(){var e={uid:"",title:"",message:"",authKey:""},t=Object(n.useState)(!1),a=Object(C.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),u=o[0],s=o[1],d=Object(n.useState)(""),m=Object(C.a)(d,2),b=m[0],p=m[1],h=Object(n.useState)(!1),g=Object(C.a)(h,2),f=g[0],E=g[1],O=Object(n.useState)(!1),j=Object(C.a)(O,2),v=j[0],y=j[1],x=Object(n.useState)(!1),D=Object(C.a)(x,2),A=D[0],T=D[1],I=Object(n.useState)(!1),M=Object(C.a)(I,2),F=M[0],K=M[1],q=Object(n.useState)(!1),G=Object(C.a)(q,2),H=G[0],V=G[1],Q=Object(n.useState)(e),Y=Object(C.a)(Q,2),_=Y[0],X=Y[1],Z=Object(n.useState)(""),$=Object(C.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(C.a)(ae,2),re=ne[0],le=ne[1],ie=function(){i(!1),E(!1),X(e)},ce=function(){s(!1)},oe=function(){le(!1)},ue=function(){var e=Object(S.a)({},_),t=!1;return 0===e.uid.trim().length&&(y(!0),t=!0),0===e.title.trim().length&&(T(!0),t=!0),0===e.message.trim().length&&(K(!0),t=!0),0===e.authKey.trim().length&&(V(!0),t=!0),t};return r.a.createElement("div",null,r.a.createElement(k.a,{variant:"outlined",color:"primary",onClick:function(){i(!0),E(!1),X(e)}},"Send message"),r.a.createElement(P.a,{open:re,autoHideDuration:6e3,onClose:oe},r.a.createElement(B,{onClose:oe,severity:"success"},ee)),r.a.createElement(R.a,{className:"materialDialog",open:u,onClose:ce,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(L.a,{id:"alert-dialog-title"},"Error"),r.a.createElement(z.a,null,r.a.createElement(N.a,{id:"alert-dialog-description"},b)),r.a.createElement(J.a,null,r.a.createElement(k.a,{onClick:ce,color:"primary"},"Ok"))),r.a.createElement(R.a,{open:l,onClose:ie,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,null,"Send message"),r.a.createElement(z.a,null,r.a.createElement(N.a,null,"Please fill in all information to send a message"),r.a.createElement(w.a,{error:v,margin:"dense",id:"uid",label:"Alles UID",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},_);t.uid=e.target.value,X(t)}}),r.a.createElement(w.a,{error:A,margin:"dense",id:"title",label:"Title",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},_);t.title=e.target.value,X(t)}}),r.a.createElement(w.a,{error:F,margin:"dense",id:"message",label:"Message",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},_);t.message=e.target.value,X(t)}}),r.a.createElement(w.a,{error:H,margin:"dense",id:"authtoken",label:"Auth token",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},_);t.authKey=e.target.value,X(t)}})),r.a.createElement(J.a,null,f?r.a.createElement(U.a,null):r.a.createElement("div",null,r.a.createElement(k.a,{onClick:ie,color:"primary"},"Cancel"),r.a.createElement(k.a,{onClick:function(){if(y(!1),T(!1),K(!1),V(!1),E(!0),ue())E(!1);else{var e=Object(S.a)({},_),t={headers:{Authorization:e.authKey}},a={title:e.title,message:e.message};W.a.post("https://push.spica.fliney.eu/send/".concat(e.uid),a,t).then((function(e){E(!1),200===e.status?(te("Data sent!"),ie(),le(!0)):(p("The server returned the wrong status code: ".concat(e.status)),s(!0))})).catch((function(e){e.response?(E(!1),p("The server returned: "+e.response.data.err),s(!0)):e.request?(p(e.request.toString()),E(!1)):(p("Something went wrong while setting up the request"),E(!1))}))}},color:"primary"},"Send")))))}var H=a(189),V=a(169),Q=a(188),Y=a(177),_=a(183),X=function(){var e={uid:"",type:"",deviceID:"",authKey:""},t=Object(n.useState)(!1),a=Object(C.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),u=o[0],s=o[1],d=Object(n.useState)(""),m=Object(C.a)(d,2),b=m[0],p=m[1],h=Object(n.useState)(!1),g=Object(C.a)(h,2),f=g[0],E=g[1],O=Object(n.useState)(!1),j=Object(C.a)(O,2),v=j[0],y=j[1],x=Object(n.useState)(!1),D=Object(C.a)(x,2),A=D[0],T=D[1],I=Object(n.useState)(!1),M=Object(C.a)(I,2),F=M[0],K=M[1],q=Object(n.useState)(!1),G=Object(C.a)(q,2),X=G[0],Z=G[1],$=Object(n.useState)(e),ee=Object(C.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(C.a)(ne,2),le=re[0],ie=re[1],ce=Object(n.useState)(!1),oe=Object(C.a)(ce,2),ue=oe[0],se=oe[1],de=function(){i(!1),E(!1),ae(e)},me=function(){s(!1)},be=function(){se(!1)},pe=function(){var e=Object(S.a)({},te),t=!1;return 0===e.uid.trim().length&&(y(!0),t=!0),0===e.type.trim().length&&(T(!0),t=!0),0===e.deviceID.trim().length&&(K(!0),t=!0),0===e.authKey.trim().length&&(Z(!0),t=!0),t};return r.a.createElement("div",{style:{marginTop:"16px"}},r.a.createElement(k.a,{variant:"outlined",color:"primary",onClick:function(){i(!0),E(!1),ae(e)}},"Set device"),r.a.createElement(P.a,{open:ue,autoHideDuration:6e3,onClose:be},r.a.createElement(B,{onClose:be,severity:"success"},le)),r.a.createElement(R.a,{className:"materialDialog",open:u,onClose:me,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(L.a,{id:"alert-dialog-title"},"Error"),r.a.createElement(z.a,null,r.a.createElement(N.a,{id:"alert-dialog-description"},b)),r.a.createElement(J.a,null,r.a.createElement(k.a,{onClick:me,color:"primary"},"Ok"))),r.a.createElement(R.a,{open:l,onClose:de,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,null,"Set device"),r.a.createElement(z.a,null,r.a.createElement(N.a,null,"Please fill in all information to set a device"),r.a.createElement(w.a,{error:v,margin:"dense",id:"uid",label:"Alles UID",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},te);t.uid=e.target.value,ae(t)}}),r.a.createElement(H.a,{component:"fieldset",error:A},r.a.createElement(V.a,{component:"legend"},"Device Type"),r.a.createElement(Q.a,{"aria-label":"gender",name:"gender1",value:te.type,onChange:function(e){var t=Object(S.a)({},te);t.type=e.target.value,ae(t)}},r.a.createElement(Y.a,{value:"ios",control:r.a.createElement(_.a,null),label:"iOS"}),r.a.createElement(Y.a,{value:"and",control:r.a.createElement(_.a,null),label:"Android"}))),r.a.createElement(w.a,{error:F,margin:"dense",id:"deviceID",label:"Device ID",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},te);t.deviceID=e.target.value,ae(t)}}),r.a.createElement(w.a,{error:X,margin:"dense",id:"authtoken",label:"Auth token",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},te);t.authKey=e.target.value,ae(t)}})),r.a.createElement(J.a,null,f?r.a.createElement(U.a,null):r.a.createElement("div",null,r.a.createElement(k.a,{onClick:de,color:"primary"},"Cancel"),r.a.createElement(k.a,{onClick:function(){if(y(!1),T(!1),K(!1),Z(!1),E(!0),pe())E(!1);else{var e=Object(S.a)({},te),t={headers:{Authorization:e.authKey}},a={deviceID:e.deviceID,type:e.type};W.a.post("https://push.spica.fliney.eu/set/".concat(e.uid),a,t).then((function(e){E(!1),200===e.status?(ie("Data sent!"),de(),se(!0)):(p("The server returned the wrong status code: ".concat(e.status)),s(!0))})).catch((function(e){e.response?(E(!1),p("The server returned: "+e.response.data.err),s(!0)):e.request?(p(e.request.toString()),E(!1)):(p("Something went wrong while setting up the request"),E(!1))}))}},color:"primary"},"Send")))))},Z=function(){var e={uid:"",authKey:""},t=Object(n.useState)(!1),a=Object(C.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),u=o[0],s=o[1],d=Object(n.useState)(""),m=Object(C.a)(d,2),b=m[0],p=m[1],h=Object(n.useState)(!1),g=Object(C.a)(h,2),f=g[0],E=g[1],O=Object(n.useState)(!1),j=Object(C.a)(O,2),v=j[0],y=j[1],x=Object(n.useState)(!1),D=Object(C.a)(x,2),A=D[0],T=D[1],I=Object(n.useState)(e),M=Object(C.a)(I,2),F=M[0],K=M[1],q=Object(n.useState)(""),B=Object(C.a)(q,2),P=B[0],G=B[1],H=Object(n.useState)(!1),V=Object(C.a)(H,2),Q=V[0],Y=V[1],_=function(){i(!1),E(!1),K(e)},X=function(){s(!1)},Z=function(){Y(!1)},$=function(){var e=Object(S.a)({},F),t=!1;return 0===e.uid.trim().length&&(y(!0),t=!0),0===e.authKey.trim().length&&(T(!0),t=!0),t};return r.a.createElement("div",{style:{marginTop:"16px"}},r.a.createElement(k.a,{variant:"outlined",color:"primary",onClick:function(){i(!0),E(!1),K(e)}},"Get devices"),r.a.createElement(R.a,{className:"materialDialog",open:Q,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(L.a,{id:"alert-dialog-title"},"Data"),r.a.createElement(z.a,null,r.a.createElement(N.a,{id:"alert-dialog-description",style:{whiteSpace:"pre-wrap"}},P)),r.a.createElement(J.a,null,r.a.createElement(k.a,{onClick:Z,color:"primary"},"Ok"))),r.a.createElement(R.a,{className:"materialDialog",open:u,onClose:X,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(L.a,{id:"alert-dialog-title"},"Error"),r.a.createElement(z.a,null,r.a.createElement(N.a,{id:"alert-dialog-description"},b)),r.a.createElement(J.a,null,r.a.createElement(k.a,{onClick:X,color:"primary"},"Ok"))),r.a.createElement(R.a,{open:l,onClose:_,"aria-labelledby":"form-dialog-title"},r.a.createElement(L.a,null,"Get devices"),r.a.createElement(z.a,null,r.a.createElement(N.a,null,"Please fill in all information to get all devices for a user"),r.a.createElement(w.a,{error:v,margin:"dense",id:"uid",label:"Alles UID",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},F);t.uid=e.target.value,K(t)}}),r.a.createElement(w.a,{error:A,margin:"dense",id:"authtoken",label:"Auth token",type:"text",fullWidth:!0,onChange:function(e){var t=Object(S.a)({},F);t.authKey=e.target.value,K(t)}})),r.a.createElement(J.a,null,f?r.a.createElement(U.a,null):r.a.createElement("div",null,r.a.createElement(k.a,{onClick:_,color:"primary"},"Cancel"),r.a.createElement(k.a,{onClick:function(){if(y(!1),T(!1),E(!0),$())E(!1);else{var e=Object(S.a)({},F),t={headers:{Authorization:e.authKey}};W.a.get("https://push.spica.fliney.eu/get/".concat(e.uid),t).then((function(e){E(!1),200===e.status?(G(JSON.stringify(e.data,null,2)),_(),Y(!0)):(p("The server returned the wrong status code: ".concat(e.status)),s(!0))})).catch((function(e){e.response?(E(!1),p("The server returned: "+e.response.data.err),s(!0)):e.request?(p(e.request.toString()),E(!1)):(p("Something went wrong while setting up the request"),E(!1))}))}},color:"primary"},"Send")))))};function $(){var e=Object(n.useState)(!0),t=Object(C.a)(e,2),a=t[0],l=t[1];return j.onAuthStateChanged((function(e){null==e&&l(!1)})),a?r.a.createElement("div",null,r.a.createElement(I.a,{position:"static"},r.a.createElement(M.a,null,r.a.createElement(F.a,{variant:"h6"},"Dashboard"))),r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(G,null),r.a.createElement(X,null),r.a.createElement(Z,null),r.a.createElement(k.a,{style:{marginTop:"16px"},variant:"outlined",color:"primary",onClick:function(){j.signOut()}},"Sign out"))):r.a.createElement(b.a,{to:"/login"})}var ee=Object(n.createContext)({user:null}),te=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e.componentDidMount=function(){j.onAuthStateChanged((function(t){e.setState({user:t})}))},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.Provider,{value:this.state.user},this.props.children)}}]),a}(n.Component),ae=function(){return r.a.createElement(i.a,{theme:window.matchMedia("(prefers-color-scheme: dark)").matches?d:s},r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(te,null,r.a.createElement(m.a,null,r.a.createElement(b.b,{exact:!0,path:"/",component:y}),r.a.createElement(b.b,{path:"/login",component:D}),r.a.createElement(b.b,{path:"/dashboard",component:$})))))};Object(l.render)(r.a.createElement(ae,null),document.getElementById("root"))},52:function(e,t,a){},62:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.79a54fe0.chunk.js.map